_global:
    text: "This is a shared context that will apply to multiple prompts."

landscape: _global
    text: "Describe a natural landscape with mountains and rivers."
    command: "ollama run deepseek-r1:14b < {name}.prompt | tee {name}.txt"
    validator: "grep -q 'mountains' {name}.txt || (echo 'Validation failed: No mountains mentioned.' >&2; exit 1)'"
    auto_retry: "2"

village: _global, landscape
    text: "Describe a small village inside the previously described landscape."
    command: "ollama run deepseek-r1:14b < {name}.prompt | tee {name}.txt"
    validator: "grep -q 'village' {name}.txt || (echo 'Validation failed: No village mentioned.' >&2; exit 1)'"
    auto_retry: "3"

people: _global, village
    text: "Describe the people living in the previously described village."
    command: "ollama run deepseek-r1:14b < {name}.prompt | tee {name}.txt"
    validator: "grep -q 'people' {name}.txt || (echo 'Validation failed: No people mentioned.' >&2; exit 1)'"
    auto_retry: "2"